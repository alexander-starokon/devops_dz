# Ansible-playbook для установки Elasticsearch + Kibana
# c использованием ролей

(Создано исключительно для сдачи ДЗ в рамках обучающего процесса.)

Предлагаемый playbook позволит установить для тестового окружения Elasticsearch + Kibana. А также настроить до уровня корректного ответа на запрос об установленной версии (в соответствии с условием поставленной задачи).

Плейбук тестировался на 4-х хостах (локальный - соединение через ssh, плюс три докера CentOS 7, 8 и Ubuntu:latest).
Изменить тестовое окружение и способы подключений возможно в файле: ```inventory/prod.yml``` 

Пакеты, которые будут установлены на всех хостах:
- elasticsearch-7.10.1-linux-x86_64.tar.gz
- kibana-7.10.1-linux-x86_64.tar.gz

Дополнительно, для корректного функционирования, необходимо скачать и положить в папку files/ (предварительно ее создав) пакет c java:
- jdk-11.0.11_linux-x64_bin.tar.gz

Для установки зависимостей, возможно воспользоваться командой:
```sh    
ansible-galaxy install -r requirements.yml -p roles
```

Для запуска плейбука рекомендуется использовать следующую команду:

```sh    
ansible-playbook -i inventory/prod.yml --ask-become-pass --ask-pass site.yml
```

Плейбук тестировался на ansible версии 2.10.7

#### Доступные теги: 

- java
- elastic
- kibana
- skip_ansible_lint
